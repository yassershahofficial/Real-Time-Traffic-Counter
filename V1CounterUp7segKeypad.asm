;NOTE * EVERY KEYPAD BUTTONS WILL COUNT UP
	ORG	0000H
	JMP	START

START:	LXI	SP,4000H
PORTA1:	EQU	80H
PORTB1:	EQU	81H
PORTC1:	EQU	82H
CTRL1:	EQU	83H

	MVI	A,10000010B 	;PORT A(O), B(I): 1 0 0 A Cu 0 B Cl
	OUT	CTRL1
	MVI	A,00H		;CLEAR 7SEG
	OUT	PORTA1		;7SEG PORTA1
	MVI	C,00H		;CLEAR C=KEYPAD --TO--> 7SEG

KYPRES:	IN	PORTB1		;KEYPAD PORTB1
	ANI	10H		;CHECK VALID KEY PRESS
	JZ	KYPRES

KYLEASE:IN	PORTB1
	ANI	10H
	JZ	KYLEASE
	
UPDATE:	LXI	H,DATA		;HL SET POSITION MEMORY AS POINTER
	MVI	B,00H		;CLEAR B DATA
	IN	PORTB1		;KEYPAD DATA TRANSFER TO ACC		
	CALL	COUNTUP
	DAD	B		;ADD BC AND HL --TO--> HL 
	MOV	A,M		;M=HL
	OUT	PORTA1		;DISPLAY 7SEG FROM ACC DATA
	JMP	KYPRES
	HLT
COUNTUP:INR	C
	RET
DATA:	DFB	3FH,06H,5BH,4FH,66H,6DH,7CH,07H ;0-7
	DFB	7FH,6FH,77H,7CH,39H,1EH,79H,71H ;8-F